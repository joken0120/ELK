input {  
  file {
    path => "/home/joken0120/ELK/walmart_SupplyChain2.csv"
    sincedb_path => "/dev/null"
    start_position => "beginning"
  }
}

filter {
  csv {
    columns => ['ARRIVAL_DATE', 'WEIGHT_(KG)', 'FOREIGN_PORT', 'US_PORT', 'QUANTITY',
       'Q.UNIT', 'SHIP_REGISTERED_IN', 'VESSEL_NAME', 'CONTAINER_NUMBER',
       'CONTAINER_COUNT', 'COUNTRY_OF_ORIGIN', 'CARRIER_CODE', 'CARRIER_NAME',
       'CARRIER_CITY', 'PLACE_OF_RECEIPT']
    separator => ","
  }
}

output {
  stdout {
    codec => rubydebug{ }
  }

  elasticsearch {
    hosts => "http://localhost:9200"
    index => "ba_realtime"
    document_type => "stage1"
  }
}
